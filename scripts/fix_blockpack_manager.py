#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
Script to specifically fix BlockPackManager.java encoding issues
"""

import re

filepath = r"D:\minecraft_collaboration_project\minecraft-mod\src\main\java\edu\minecraft\collaboration\blockpacks\BlockPackManager.java"

# Read the file
with open(filepath, 'r', encoding='utf-8', errors='replace') as f:
    content = f.read()

# Fix specific corrupted patterns in this file
replacements = {
    # Basic block names
    '基本繝悶Ο繝・け': '基本ブロック',
    '基础譁ｹ蝮・': '基础方块"',
    '기본 ・罷｡・': '기본 블록"',
    
    # Descriptions - Japanese
    '譛繧ょ渕譛ｬ逧・↑蟒ｺ遽峨ヶ繝ｭ繝・け縺ｮ繧ｻ繝・ヨ縺ｧ縺吶ょ・蠢・・↓驕ｩ縺励※縺・∪縺吶・': '最も基本的な建築ブロックのセットです。初心者に適しています。"',
    
    # Descriptions - Chinese
    '譛基本逧・ｻｺ遲第婿蝮鈴寔蜷茨ｼ碁ょ粋初学者"ｽｿ逕ｨ縲・': '最基本的建筑方块集合，适合初学者使用。"',
    '譛基本逧・ｻｺ遽画婿蝪企寔蜷茨ｼ碁←蜷亥・蟄ｸ閠・ｽｿ逕ｨ縲・': '最基本的建築方塊集合，適合初學者使用。"',
    
    # Descriptions - Korean
    '・・･ 기본（攤 건축"・罷｡（ｸ孖ｸ（笈・､. ・壱ｳｴ・川乱고급"・鮒﨑ｩ・壱共.': '가장 기본적인 건축 블록 세트입니다. 초급자에게 적합합니다.',
    
    # Beginner pack
    '初心者逕ｨ繝悶Ο繝・け': '初心者用ブロック',
    '初学者逕ｨ譁ｹ蝮・': '初学者用方块"',
    '초급자 ・罷｡・': '초급자 블록"',
    '初心者逕ｨ縺ｫ迚ｹ蛹悶＆繧後◆繝悶Ο繝・け縺ｮ繧ｻ繝・ヨ縺ｧ縺吶ゅが繝ｪ繧ｸ繝翫Ν縺ｮ菴懷刀繧剃ｽ懊ｋ縺ｮ縺ｫ譛驕ｩ縺ｧ縺吶・': '初心者用に特化されたブロックのセットです。オリジナルの作品を作るのに最適です。"',
    '荳洪眠謇玖ｨｭ險育噪譁ｹ蝮鈴寔蜷茨ｼ碁←蜷亥哩菴懆・蜴ｵ菴懷刀縲・': '为新手设计的方块集合，适合创作原创作品。"',
    '逕ｺ譁ｰ謇玖ｨｭ險育噪譁ｹ蝪企寔蜷茨ｼ碁←蜷亥哩菴應ｻ伜・菴懷刀縲・': '為新手設計的方塊集合，適合創作原創作品。"',
    '・壱ｳｴ・川乱位荳ｫ（碓（倨縺ｴ （賎攝昨（・・罷｡ ・狗（ｹ・壱共. ・曙ｸｰ韃ｴ （鯖・ （喞・﨏 （覧復ｸｰ・乱﨣ｶ荳ｫｹｹ・共.': '초급자를 위해 특화된 블록 세트입니다. 원본 작품을 만들기에 적합합니다.',
    
    # Educational pack
    '謨呵ご逕ｨ繝悶Ο繝・け': '教育用ブロック',
    '教育逕ｨ譁ｹ蝮・': '教育用方块"',
    '교육（復 ・罷｡・': '교육용 블록"',
    '謨呵ご逶ｮ逧・↓迚ｹ蛹悶＆繧後◆繝悶Ο繝・け縺ｧ縺吶ょｭｦ鄙定・逕ｨ縺ｮ菴懷刀縺ｫ譛驕ｩ縺ｧ縺吶・': '教育目的に特化されたブロックです。学習用の作品に最適です。"',
    '荳堺ｺ・ｼ・閧ｲ逶ｮ逧・ｼ芽ｨｭ險育噪譁ｹ蝮鈴寔蜷茨ｼ碁←蜷亥ｭｸ鄙定・逕ｨ菴懷刀縲・': '为了教育目的而设计的方块集合，适合学习用作品。"',
    '逕ｺ莠・耶・逶ｮ逧・耨ｨｭ險育噪譁ｹ蝪企寔蜷茨ｼ碁←蜷亥ｭｸ鄙定・逕ｨ菴懷刀縲・': '為了教育目的而設計的方塊集合，適合學習用作品。"',
    '교육 （ｩｩ（鬨（賎﨡ｰ ﾌｧ（餉・・罷｡・壱共. ・慵肥 ﾌﾩﾌｧ ・鯖・・乱﨣ｶ荳ｫｹｹ・共.': '교육 목적으로 특화된 블록입니다. 학습용 작품에 적합합니다.',
    
    # Nature pack
    '閾ｪ辟ｶ繝悶Ο繝・け': '自然ブロック',
    '閾ｪ辟ｶ譁ｹ蝮・': '自然方块"',
    '・川硫 ・罷｡・': '자연 블록"',
    '閾ｪ辟ｶ縺ｮ譎ｯ隕ｳ繧貞・迴ｾ縺吶ｋ縺溘ａ縺ｮ繝悶Ο繝・け縺ｧ縺吶り崕譫怜｣ｰ縺ｮ菴懈・縺ｫ譛驕ｩ縺ｧ縺吶・': '自然の景観を再現するためのブロックです。風景画の作成に最適です。"',
    '逕ｨ莠主・迴ｾ閾ｪ辟ｶ譎ｯ隕ｳ逧・婿蝮鈴寔蜷茨ｼ碁←蜷牙峅菴憺｢ｨ譎ｯ菴懷刀縲・': '用于再现自然景观的方块集合，适合创作风景作品。"',
    '逕ｨ譁ｼ蜀咲樟閾ｪ辟ｶ譎ｯ隕ｳ逧・婿蝪企寔蜷茨ｼ碁←蜷牙峅菴憺｢ｨ譎ｯ菴懷刀縲・': '用於再現自然景觀的方塊集合，適合創作風景作品。"',
    '・川硫 ﾟ懐譎ｼ ﾋ﨑ｨｮ﨡ｰ （復﨟・・罷｡・壱共. 風（坂（ｷﾌｧ ・鯖・・乱﨣ｶ荳ｫｹｹ・共.': '자연 경관을 재현하기 위한 블록입니다. 풍경화 작성에 적합합니다.',
    
    # Creative pack
    'クリエイチE��チE繝悶Ο繝・け': 'クリエイティブブロック',
    '创意譁ｹ蝮・': '创意方块"',
    '창의 ・罷｡・': '창의 블록"',
    '閾ｪ逕ｱ縺ｪ蜑ｵ菴懊∈縺ｮ謖第姶繧偵い繝・・縺吶ｋ繝悶Ο繝・け縺ｧ縺吶る崕隧ｱ縺ｪ繧｢繧､繝・い繧貞ｮ溽樟縺励∪縺励ｇ縺・・': '自由な創作への挑戦をアップするブロックです。詳細なアイデアを実現しましょう！"',
    '謠仙・謇第・呻ｼ瑚ｮｩ菴莉ｬ蜑ｵ菴應ｻｬ蜉帶聞謌ｰ逧・婿蝮鈴寔蜷茨ｼ∽ｸ霎ｵ蟄ｽ蜀・樔ｻｬ逧・ｳｳ豕包ｼ・': '提供挑战，让你创作任何想要的方块集合！一起实现你的想法！"',
    '謠蝉ｾ幄ｬｰ謌ｰ・瑚ｮ謎ｽ�ｵｵ菴應ｻｻ菴輔ず譁ｹ蝪企寔蜷茨ｼ∽ｸ霎ｵ蟆ｭ蟇ｦ迴ｾ菴逧・ｳｳ豕包ｼ・': '提供挑戰，讓你創作任何東西方塊集合！一起實現你的想法！"',
    '・川ｻ・ｬｸ ・川乱﨣ｶ・・ﾇｨ（ｨｰ﨡ｸ ・ﾇｨ共（譟ｸ ・罷｡・壱共. （誣ﾌｧ ・・・・・庖（ｹ ・・ｹ（ｹ ・�（ｷｾ﨑ｩ・・ｾｨｰ!': '자유로운 창작에 도전하는 블록입니다. 당신의 아이디어를 실현하세요!',
    
    # Architectural pack
    '建築繝悶Ο繝・け': '建築ブロック',
    '建筑譁ｹ蝮・': '建筑方块"',
    '建築"譁ｹ塊': '建築方塊',
    '건축" ・罷｡・': '건축 블록"',
    '譛ｬ譬ｼ逧・ｻｺ遽画妙譏ｯ繧偵・菴懊☆繧九◆繧√・繝悶Ο繝・け縺ｧ縺吶ゅ・繧阪ｆ繧句ｻｺ遽峨せ繧ｿ繧､繝ｫ縺ｫ蟇ｾ蠢懊＠縺ｦ縺・∪縺吶・': '本格的な建築技巧を再作するためのブロックです。あらゆる建築スタイルに対応しています。"',
    '逕ｨ莠主・菴墓悽譬ｼ蟒ｺ遲画橿蟶ｧ逧・婿蝮鈴寔蜷茨ｼ碁←蠢皮匳遞ｮ蟒ｺ遲泌｢ｨ譬ｼ縲・': '用于再作本格建筑技巧的方块集合，适应各种建筑风格。"',
    '逕ｨ譁ｼ蜀咲樟譛ｬ譬ｼ蟒ｺ遽画橿蟶ｧ逧・婿蝪企寔蜷茨ｼ碁←蠢皮匳遞ｮ蟒ｺ遽泌｢ｨ譬ｼ縲・': '用於再現本格建築技巧的方塊集合，適應各種建築風格。"',
    '﨣ｵ（拌﨡晧謔 건축" 기巐（賎（賎ｸｰ （復﨟・・罷｡・壱共. （檀（�E｡ｰ（ｵｼ 건축" ・姙・竏・乱ﾌ﨟（ｱ （ｹ・共.': '본격적인 건축 기술을 재현하기 위한 블록입니다. 모든 건축 스타일에 대응합니다.',
    
    # Programming pack
    '繝励Ο繧ｰ繝ｩ繝溘Φ繧ｰ繝悶Ο繝・け': 'プログラミングブロック',
    '郤｢遏ｳ譁ｹ蝮・': '红石方块"',
    '邏・浹譁ｹ蝪・': '紅石方塊"',
    '・壱糖・､奝､ ・罷｡・': '레드스톤 블록"',
    'プログラミング諤晁・→隲也炊蝗櫁ｷｯ繧貞ｭｦ縺ｶ縺溘ａ縺ｮ繝ｬ繝・ラ繧ｹ繝医・繝ｳ繝悶Ο繝・け縺ｧ縺吶・': 'プログラミング思考と論理回路を学ぶためのレッドストーンブロックです。"',
    '逕ｨ莠主ｭｦ荵郛也ｨ矩ｻ霎大柱逕ｵ霍ｯ逧・ｺ｢遏ｳ譁ｹ蝮励・': '用于学习编程逻辑和电路的红石方块。"',
    '逕ｨ譁ｼ蟄ｸ鄙堤ｷｨ遞矩ｏ霈ｯ蜥碁崕霍ｯ逧・ｴ・浹譁ｹ蝪翫・': '用於學習編程邏輯和電路的紅石方塊。"',
    'プログラミング"・）ｬ・ 巐誤｡罹･ｼ 﨑呷慣﨑俾ｸｰ （復 ・壱糖・､奝､ ・罷｡晧桿・壱共.': '프로그래밍 사고와 논리 회로를 배우기 위한 레드스톤 블록입니다.',
    
    # Advanced pack
    '荳顔ｴ壹ヶ繝ｭ繝・け': '上級ブロック',
    '高级譁ｹ蝮・': '高级方块"',
    '고급" ・罷｡・': '고급 블록"',
    '鬮倥Ξ繝吶Ν縺ｮ蟒ｺ遽峨ユ繧ｯ繝九ャ繧ｯ繧定ｦ∵ｱゅ☆繧句ｸｸ隴倬ｧ・ｮ夂ｿ・・峇繝悶Ο繝・け縺ｧ縺吶・': '高レベルの建築テクニックを要求する上級者専用ブロックです。"',
    '謗千髯玲搗郢顔噪蜻假ｼ碁怙謌・ｵ蝮翫ｰ・': '挑战极限的呢，最戒句方块尐"',
    '謠先姶讌ｵ髯千噪蜻假ｼ碁←蜷医ｵ謌・ｵ蝪溘ｰ・': '挑戰極限的呢，適合戒句方塊尐"',
    '・・ｸ﨡ｸ（餉ﾌｧ 건축" 기巐（賎・・ﾇｨ・・・・��・・공 ・罷｡・壱共.': '높은 레벨의 건축 기술을 요구하는 상급자 전용 블록입니다.',
    
    # Custom pack
    '繧ｫ繧ｹ繧ｿ繝繝悶Ο繝・け': 'カスタムブロック',
    '・ｬ・ｩ・・・菩攪 ・罷｡・': '사용자 정의 블록"',
    '繝ｦ繝ｼ繧ｶ繝ｼ縺瑚・逕ｱ縺ｫ蜑ｵ菴懊○縺溘ヶ繝ｭ繝・け縺ｮ繧ｻ繝・ヨ縺ｧ縺吶るｫ倥＞蜑ｵ騾蟆ｧ繧呈戟縺｡縺ｾ縺吶・': 'ユーザーが自由に創作したブロックのセットです。高い創造性を持ちます。"',
    '逕ｨ謌ｸ閾ｪ逕ｱ蜑ｵ菴懊ｮ譁ｹ蝮鈴寔蜷茨ｼ梧恪譛臥罰鬮倥噺蜑ｵ騾蟆ｧ縲・': '用户自由创作的方块集合，拥有极高的创造性。"',
    '逕ｨ謌ｶ閾ｪ逕ｱ蜑ｵ菴懊ｮ譁ｹ蝪企寔蜷茨ｼ梧恪譛臥罰鬮倥噺蜑ｵ騾蟆ｧ縲・': '用戶自由創作的方塊集合，擁有極高的創造性。"',
    '・ｬ・ｩ・川��ﾌｧ ・川ｻ蜿ｭ（ｹ ・川乱﨣ｶ﨟・・罷｡ ・狗（ｹ・壱共. ・・・ｸ ・川乱﨣ｵ・嶮（賎 ・�（圏・壱共.': '사용자가 자유롭게 창작한 블록 세트입니다. 높은 창조성을 가집니다.',
}

# Apply replacements
for corrupted, correct in replacements.items():
    content = content.replace(corrupted, correct)

# Fix any remaining unclosed string literals
content = re.sub(r'(names\.put\([^,]+,\s*"[^"]+)(?![";\)])(\s*\))', r'\1"\2', content)
content = re.sub(r'(descriptions\.put\([^,]+,\s*"[^"]+)(?![";\)])(\s*\))', r'\1"\2', content)

# Write the fixed content back
with open(filepath, 'w', encoding='utf-8') as f:
    f.write(content)

print("Fixed BlockPackManager.java")
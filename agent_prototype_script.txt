# エージェント・アスレチック プロトタイプスクリプト

このスクリプトを sokoban_working.sb3 に追加すると、
今すぐエージェントがアスレチックコースを走り始めます！

## 必要な変数（作成してください）

1. agentX (初期値: 0)
2. agentY (初期値: 10)
3. agentZ (初期値: 0)
4. agentDirection (初期値: 0)

## スクリプト1: 初期化（緑の旗）

```
緑の旗がクリックされたとき

minecraft: チャット メッセージ: [エージェント・アスレチック開始！]

// エージェント初期位置
agentX を [0] にする
agentY を [10] にする
agentZ を [0] にする
agentDirection を [0] にする

// エリアクリア
minecraft: エリアをクリア x: [-5] z: [-5]

1 秒待つ

// スタート地点を作る
minecraft: ブロックを置く x: [0] y: [10] z: [0] ブロック: [stone]

// コース1: 直進（3マス）
minecraft: ブロックを置く x: [0] y: [10] z: [1] ブロック: [stone]
minecraft: ブロックを置く x: [0] y: [10] z: [2] ブロック: [stone]
minecraft: ブロックを置く x: [0] y: [10] z: [3] ブロック: [stone]

// コース2: 1段高いジャンプ台
minecraft: ブロックを置く x: [0] y: [11] z: [4] ブロック: [gold_block]
minecraft: ブロックを置く x: [0] y: [11] z: [5] ブロック: [stone]

// コース3: 右折エリア（X方向）
minecraft: ブロックを置く x: [1] y: [11] z: [5] ブロック: [stone]
minecraft: ブロックを置く x: [2] y: [11] z: [5] ブロック: [stone]
minecraft: ブロックを置く x: [3] y: [11] z: [5] ブロック: [stone]

// ゴール
minecraft: ブロックを置く x: [4] y: [11] z: [5] ブロック: [diamond_block]

// エージェント表示
minecraft: ブロックを置く x: (agentX) y: (agentY) z: (agentZ) ブロック: [emerald_block]

minecraft: チャット メッセージ: [コース生成完了！スペースキーでスタート]
```

## スクリプト2: コース実行（スペースキー）

```
スペース キーが押されたとき

minecraft: チャット メッセージ: [エージェント走行開始！]

// ステップ1: 前進3マス
3 回繰り返す
  エージェント前進 ▶
  0.5 秒待つ
end

// ステップ2: ジャンプして1段上へ
エージェントジャンプ ▶
0.3 秒待つ
エージェント前進 ▶
1 秒待つ

// ステップ3: 右に90度回転
agentDirection を [1] にする
0.5 秒待つ

// ステップ4: 右方向に3マス前進
3 回繰り返す
  エージェント前進 ▶
  0.5 秒待つ
end

minecraft: チャット メッセージ: [ゴール到達！おめでとうございます！]
```

## カスタムブロック1: エージェント前進

```
定義 エージェント前進

// 古い位置を消す
minecraft: ブロックを置く x: (agentX) y: (agentY) z: (agentZ) ブロック: [air]

// 方向に応じて座標を更新
もし (agentDirection) = [0] なら
  agentZ を [1] ずつ変える  // 北（+Z方向）
end

もし (agentDirection) = [1] なら
  agentX を [1] ずつ変える  // 東（+X方向）
end

もし (agentDirection) = [2] なら
  agentZ を [-1] ずつ変える  // 南（-Z方向）
end

もし (agentDirection) = [3] なら
  agentX を [-1] ずつ変える  // 西（-X方向）
end

// 新しい位置に表示
minecraft: ブロックを置く x: (agentX) y: (agentY) z: (agentZ) ブロック: [emerald_block]
```

## カスタムブロック2: エージェントジャンプ

```
定義 エージェントジャンプ

// 古い位置を消す
minecraft: ブロックを置く x: (agentX) y: (agentY) z: (agentZ) ブロック: [air]

// 1段上へ
agentY を [1] ずつ変える

// 新しい位置に表示
minecraft: ブロックを置く x: (agentX) y: (agentY) z: (agentZ) ブロック: [emerald_block]
```

## Scratchでの作成手順

### ステップ1: 変数を作成

1. 「変数」カテゴリ → 「変数を作る」をクリック
2. 以下の4つの変数を作成：
   - agentX
   - agentY
   - agentZ
   - agentDirection

### ステップ2: カスタムブロックを作成

1. 「ブロック定義」カテゴリ → 「ブロックを作る」をクリック
2. 「エージェント前進」という名前で作成
3. 上記のスクリプトを組み立てる
4. 同様に「エージェントジャンプ」も作成

### ステップ3: メインスクリプトを追加

1. 「緑の旗がクリックされたとき」のハットブロックを追加
2. 上記のスクリプト1を組み立てる
3. 「スペースキーが押されたとき」のハットブロックを追加
4. 上記のスクリプト2を組み立てる

### ステップ4: テスト実行

1. Minecraftを起動
2. Scratchで緑の旗をクリック → コースが生成される
3. スペースキーを押す → エージェント（エメラルドブロック）が走り出す！

## アスレチックコースの拡張例

### 上級コース（追加）

```
// 緑の旗のスクリプトに追加

// コース4: 長距離走
minecraft: ブロックを置く x: [5] y: [11] z: [5] ブロック: [stone]
minecraft: ブロックを置く x: [6] y: [11] z: [5] ブロック: [stone]
minecraft: ブロックを置く x: [7] y: [11] z: [5] ブロック: [stone]

// コース5: 大ジャンプ（2段高い）
minecraft: ブロックを置く x: [8] y: [13] z: [5] ブロック: [gold_block]

// 最終ゴール
minecraft: ブロックを置く x: [9] y: [13] z: [5] ブロック: [diamond_block]
```

```
// スペースキーのスクリプトに追加（既存の最後に）

// ステップ5: さらに前進3マス
3 回繰り返す
  エージェント前進 ▶
  0.5 秒待つ
end

// ステップ6: 大ジャンプ（2段）
エージェントジャンプ ▶
0.3 秒待つ
エージェントジャンプ ▶
0.3 秒待つ
エージェント前進 ▶

minecraft: チャット メッセージ: [最終ゴール到達！完璧です！]
```

## カスタマイズのアイデア

### 1. スピード調整
```
0.5 秒待つ  →  0.2 秒待つ  // 高速モード
0.5 秒待つ  →  1.0 秒待つ  // スローモーション
```

### 2. 色分けコース
```
// スタートエリア: 緑
minecraft: ブロックを置く ... ブロック: [lime_wool]

// 中間エリア: 黄色
minecraft: ブロックを置く ... ブロック: [yellow_wool]

// ゴールエリア: 赤
minecraft: ブロックを置く ... ブロック: [red_wool]
```

### 3. タイムアタック
```
変数 [startTime] を作る
変数 [goalTime] を作る

// スペースキーの最初に追加
タイマーをリセット
startTime を (タイマー) にする

// スペースキーの最後に追加
goalTime を (タイマー) にする
minecraft: チャット メッセージ: (タイム: () 秒) と (goalTime) を組み合わせる
```

## トラブルシューティング

### エージェントが見えない
- マインクラフトで `/tp @s 0 -50 0` を実行して近くに移動
- Y座標（高さ）を確認。Y=10 なので、マインクラフトでは Y=-50 付近

### コースが見えない
- `/tp @s 0 -50 0` で原点に移動
- エリアクリアの範囲を広げる: x:[-10] z:[-10]

### エージェントが動かない
- 変数の値を確認（agentDirection が正しいか）
- 0.5秒待つを1秒待つに変更して、ゆっくり観察

## 完成イメージ

```
スタート (0,10,0)
    ↓ [emerald_block が移動]
    ↓ [stone, stone, stone]
    ↓ ジャンプ！
(0,11,4) [gold_block]
    ↓ [stone]
    ← 90度回転
[stone, stone, stone] →
    ↓
(4,11,5) [diamond_block] ゴール！
```

エメラルドブロックがアスレチックコースを自動で走破します！

## 次のステップ

1. 基本コースで動作確認
2. 独自のコースを設計
3. より複雑な動きを追加
   - 左折
   - バック
   - 連続ジャンプ
4. MOD拡張で物理演算版を実装

楽しんでください！

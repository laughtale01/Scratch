# 📖 Minecraft×Scratch ユーザーマニュアル

**バージョン**: 1.0.0  
**最終更新**: 2025年8月8日

## 🎮 はじめに

Minecraft×Scratchは、ビジュアルプログラミングでMinecraftを操作できる教育システムです。このマニュアルでは、セットアップから基本的な使い方まで説明します。

## 📋 必要なもの

### システム要件
- **OS**: Windows 10/11, macOS 10.14+, Linux
- **メモリ**: 4GB以上（8GB推奨）
- **Java**: バージョン17（自動でインストールされます）
- **Minecraft**: Java Edition 1.20.1
- **ブラウザ**: Chrome, Firefox, Edge（最新版）

### 必要なソフトウェア
1. Minecraft Java Edition（有料）
2. Minecraft Forge 1.20.1（無料）
3. 本プロジェクトのMod（無料）

## 🚀 インストール手順

### ステップ1: Minecraft Forgeのインストール

1. [Minecraft Forge公式サイト](https://files.minecraftforge.net/)にアクセス
2. バージョン「1.20.1」を選択
3. 「Installer」をダウンロード
4. ダウンロードしたファイルを実行
5. 「Install Client」を選択して「OK」

### ステップ2: Modのインストール

1. [リリースページ](https://github.com/laughtale01/Scratch/releases)から最新版をダウンロード
2. `minecraft-collaboration-mod-1.0.0-all.jar`を取得
3. Windowsの場合: `Win + R`キーを押して`%appdata%`と入力
4. `.minecraft/mods/`フォルダを開く（なければ作成）
5. ダウンロードしたJARファイルをmodsフォルダにコピー

### ステップ3: Minecraftの起動

1. Minecraft Launcherを開く
2. 起動構成で「Forge 1.20.1」を選択
3. 「プレイ」をクリック
4. タイトル画面で「Mods」ボタンから本Modが読み込まれていることを確認

## 🌐 Scratchへの接続

### オンライン版を使う場合

1. ブラウザで https://laughtale-scratch-ca803.web.app にアクセス
2. 拡張機能ボタン（左下のブロック追加ボタン）をクリック
3. 「Minecraft コラボレーション」を選択

### ローカル版を使う場合

1. コマンドプロンプト/ターミナルを開く
2. 以下のコマンドを実行:
   ```bash
   cd scratch-gui
   npm start
   ```
3. ブラウザで http://localhost:8601 にアクセス
4. 拡張機能から「Minecraft コラボレーション」を選択

## 🎯 基本的な使い方

### 接続の確認

1. Minecraftでシングルプレイヤーワールドを開く
2. Scratchで「Minecraft接続」ブロックを配置
3. 緑の旗をクリックして実行
4. Minecraftのチャット欄に「WebSocket接続成功」と表示されれば成功

### 基本ブロック

#### 🔗 接続系
- **Minecraft接続**: WebSocketサーバーに接続
- **接続状態**: 接続中かどうかを確認
- **切断**: 接続を終了

#### 💬 コミュニケーション系
- **チャットメッセージ送信**: Minecraftにメッセージを表示
- **コマンド実行**: Minecraftコマンドを実行
- **pingテスト**: 接続確認（pongが返る）

#### 📍 位置情報系
- **プレイヤー位置取得**: 現在の座標を取得
- **プレイヤー移動**: 指定座標にテレポート
- **ホーム設定**: 現在位置をホームに設定
- **ホームに戻る**: 設定したホームに戻る

#### 🏗️ 建築系
- **ブロック設置**: 指定座標にブロックを置く
- **円を作る**: 円形の構造物を生成
- **球を作る**: 球体を生成
- **壁を作る**: 壁を生成
- **家を建てる**: 簡単な家を生成

### サンプルプログラム

#### 例1: あいさつプログラム
```scratch
緑の旗がクリックされたとき
Minecraft接続
1秒待つ
チャットメッセージ送信「こんにちは、Minecraft！」
```

#### 例2: 自動建築
```scratch
緑の旗がクリックされたとき
Minecraft接続
1秒待つ
プレイヤー位置取得
x座標に10を足す
その位置に半径5の円を作る（ブロック: stone）
```

#### 例3: テレポートシステム
```scratch
スペースキーが押されたとき
もし接続状態なら
  現在位置をホーム設定
  チャットメッセージ送信「ホームを設定しました」
終わり

Hキーが押されたとき
もし接続状態なら
  ホームに戻る
  チャットメッセージ送信「ホームに戻りました」
終わり
```

## 🤝 協調機能

### 友達を招待する

1. Minecraftでマルチプレイヤーワールドを開く
2. Scratchで「招待を送る」ブロックを使用
3. 友達のプレイヤー名を入力
4. 友達が承認すると自動的にテレポート

### 友達の世界を訪問する

1. 「訪問リクエスト」ブロックを使用
2. 訪問したいプレイヤー名を入力
3. 承認されると自動的にその場所へ移動

## ⚙️ 設定とカスタマイズ

### ポート番号の変更

デフォルトではポート14711を使用しますが、変更可能です:

1. Minecraftの設定ファイルを開く
2. `websocket.port=14711`を任意の番号に変更
3. Scratchでも同じポート番号を指定

### 言語設定

7言語に対応しています:
- 日本語
- English
- 中文
- 한국어
- Español
- Français  
- Deutsch

Scratch内の設定から言語を変更できます。

## 🚨 トラブルシューティング

### 接続できない

**症状**: 「接続失敗」エラーが表示される

**解決方法**:
1. Minecraftが起動していることを確認
2. シングルプレイヤーワールドを開いているか確認
3. ファイアウォールがポート14711を許可しているか確認
4. アンチウイルスソフトが通信をブロックしていないか確認

### コマンドが実行されない

**症状**: ブロックを実行してもMinecraftで何も起きない

**解決方法**:
1. チートが有効になっているか確認（ワールド作成時の設定）
2. クリエイティブモードになっているか確認
3. WebSocket接続が確立されているか確認

### Modが読み込まれない

**症状**: Minecraftの「Mods」リストに表示されない

**解決方法**:
1. Forgeのバージョンが1.20.1か確認
2. modsフォルダにJARファイルが正しく配置されているか確認
3. JARファイル名が正しいか確認（改名しない）

### パフォーマンスが悪い

**症状**: 動作が重い、遅延が発生する

**解決方法**:
1. Minecraftのビデオ設定を下げる
2. 他のアプリケーションを閉じる
3. メモリ割り当てを増やす（Launcher設定で-Xmx4Gなど）

## 📚 上級者向け機能

### カスタムコマンド

JavaScriptで独自のコマンドを作成できます:

```javascript
class CustomExtension extends MinecraftExtension {
  customCommand(args) {
    return this.sendCommand({
      command: 'custom',
      data: args
    });
  }
}
```

### WebSocket直接操作

デバッグ用にWebSocketを直接操作:

1. `test-websocket.html`をブラウザで開く
2. コマンドを手動で送信してテスト
3. レスポンスを確認

## 🔒 安全な使用のために

### 推奨事項
- 信頼できる友達とのみ協調機能を使用
- 個人情報をチャットで送信しない
- 定期的にワールドのバックアップを取る
- 知らないサーバーには接続しない

### 保護者の方へ
- このシステムはローカルネットワーク内でのみ動作します
- インターネット経由の接続にはポート転送が必要です
- チャット内容は記録されません
- 個人情報は収集されません

## 💡 ヒントとコツ

### 効率的な建築
- 繰り返しブロックを使って大規模構造物を作成
- 変数を使って建築位置を管理
- リストでブロックパターンを定義

### デバッグ方法
- 「デバッグモード」ブロックで詳細情報表示
- コンソールログでエラーを確認
- test-websocket.htmlで通信を監視

## 📞 サポート

### よくある質問（FAQ）

**Q: 無料で使えますか？**  
A: Mod自体は無料ですが、Minecraft Java Editionは有料です。

**Q: 他のModと一緒に使えますか？**  
A: 基本的に可能ですが、一部競合する場合があります。

**Q: モバイル版Minecraftで使えますか？**  
A: いいえ、Java Edition専用です。

### お問い合わせ

- GitHub Issues: https://github.com/laughtale01/Scratch/issues
- Discord: [コミュニティサーバー]（準備中）
- Email: support@minecraft-scratch.example（準備中）

## 📄 ライセンス

このプロジェクトはMITライセンスの下で公開されています。
教育目的での使用は自由です。

---

**Happy Crafting with Scratch! 🎮✨**
# 🌐 ブラウザでScratchからMinecraftにブロックを置く手順

## 🎯 これから行うこと

ブラウザ上のScratchから直接Minecraftワールドにブロックを置けるようにします！

---

## 📋 準備チェックリスト

### ✅ 必要なもの
- [ ] Minecraft Java版 1.20.1（起動済み）
- [ ] ウェブブラウザ（Chrome、Firefox、Edgeなど）
- [ ] インターネット接続

---

## 🚀 手順（5分で完了）

### 手順1: Minecraftを起動してModを確認

1. **Minecraft を起動**
   ```
   通常通りMinecraft Launcherから起動
   または scripts/run-minecraft.bat をダブルクリック
   ```

2. **Modが読み込まれているか確認**
   - ワールドに入った後、チャットで以下を確認：
   ```
   [MinecraftCollaboration] WebSocket server started on port: 14711
   ```
   - このメッセージが出ていればOK！

### 手順2: Scratch拡張機能サーバーを起動

1. **コマンドプロンプトを開く**
   - Windowsキー + R → `cmd` → Enter

2. **プロジェクトフォルダに移動**
   ```cmd
   cd D:\minecraft_collaboration_project\scratch-extension
   ```

3. **HTTPサーバーを起動**
   ```cmd
   npx http-server dist -p 8080 --cors
   ```

4. **成功メッセージを確認**
   ```
   Starting up http-server, serving dist
   Available on:
     http://127.0.0.1:8080
     http://localhost:8080
   ```

### 手順3: Scratchで拡張機能を読み込む

1. **Scratch公式サイトを開く**
   - ブラウザで https://scratch.mit.edu/ にアクセス

2. **新しいプロジェクトを作成**
   - 「作る」ボタンをクリック

3. **拡張機能を追加**
   - 画面左下の **青い「拡張機能」ボタン** をクリック
   - 一番下の「拡張機能を選ぶ」をクリック

4. **カスタム拡張機能を読み込み**
   - URLを手動入力する欄に以下を入力：
   ```
   http://localhost:8080/minecraft-collaboration-extension.js
   ```
   - 「読み込み」をクリック

5. **Minecraft Controllerが追加されることを確認**
   - 左側のブロックパレットに「Minecraft Controller」カテゴリが追加される

### 手順4: 実際にブロックを置いてみよう！

1. **接続ブロックを配置**
   ```scratch
   🔌 Minecraftに接続する
   ```
   - このブロックをスクリプトエリアにドラッグ

2. **ブロック設置ブロックを配置**
   ```scratch
   🧱 [stone]を X:[0] Y:[70] Z:[0] に置く
   ```
   - 座標は自分のプレイヤーの近くに設定

3. **プログラムを実行**
   - 緑の旗ボタンをクリック
   - Minecraftワールドに石ブロックが出現！

---

## 🎨 楽しいサンプルプログラム

### サンプル1: 石の塔を建てる
```scratch
🔌 Minecraftに接続する
待つ 1 秒
変数 [高さ] を 0 にする
10 回繰り返す
  🧱 [stone]を X:[0] Y:[64 + 高さ] Z:[0] に置く
  変数 [高さ] を 1 ずつ変える
  待つ 0.5 秒
```

### サンプル2: カラフルな床
```scratch
🔌 Minecraftに接続する
待つ 1 秒
変数 [x] を -2 にする
5 回繰り返す
  変数 [z] を -2 にする
  5 回繰り返す
    🧱 [wool]を X:[x] Y:[64] Z:[z] に置く
    変数 [z] を 1 ずつ変える
  変数 [x] を 1 ずつ変える
```

### サンプル3: チャットでお知らせ
```scratch
🔌 Minecraftに接続する
待つ 1 秒
💬 チャット: [プログラムでブロックを置いたよ！]
🧱 [diamond_block]を X:[1] Y:[65] Z:[1] に置く
```

---

## 🛠️ 使えるブロックの種類

### 基本ブロック
- `stone` - 石
- `dirt` - 土
- `grass_block` - 草ブロック
- `cobblestone` - 丸石
- `wood` - 木材
- `sand` - 砂
- `gravel` - 砂利

### カラフルブロック
- `wool` - 羊毛（白）
- `red_wool` - 赤い羊毛
- `blue_wool` - 青い羊毛
- `green_wool` - 緑の羊毛
- `yellow_wool` - 黄色い羊毛

### 特別なブロック
- `diamond_block` - ダイヤモンドブロック
- `gold_block` - 金ブロック
- `iron_block` - 鉄ブロック
- `glass` - ガラス
- `glowstone` - グロウストーン

---

## ❗ トラブルシューティング

### 問題1: 「接続できません」と表示される
**原因**: Minecraftが起動していないか、Modが読み込まれていない
**解決法**:
1. Minecraftを再起動
2. ゲーム内チャットで WebSocket サーバーメッセージを確認
3. F3+T でリソースパックを再読み込み

### 問題2: 拡張機能が読み込めない
**原因**: HTTPサーバーが起動していない
**解決法**:
1. コマンドプロンプトで `npx http-server dist -p 8080 --cors` を実行
2. http://localhost:8080 にアクセスして確認

### 問題3: ブロックが置けない
**原因**: 座標が間違っているか、権限不足
**解決法**:
1. プレイヤーの現在位置を確認（F3キーで表示）
2. ゲームモードをクリエイティブに変更
3. 座標を調整して再実行

### 問題4: ブロックが見つからない
**原因**: ブロック名が間違っている
**解決法**:
1. 正確なブロック名を使用（上記リスト参照）
2. `minecraft:` プレフィックスは不要

---

## 🎉 成功！次のステップ

ブロックが置けたら、以下を試してみましょう：

1. **複雑な建築**: 城や家を自動建築
2. **アニメーション**: ブロックが順番に現れるアニメーション
3. **友達と協力**: 複数人で同時にプログラミング

---

## 📞 サポート

問題が解決しない場合：
1. [トラブルシューティングガイド](docs/troubleshooting.md)を確認
2. エラーメッセージをメモして相談
3. Minecraftのログファイルを確認

**楽しいプログラミングを！** 🎮✨